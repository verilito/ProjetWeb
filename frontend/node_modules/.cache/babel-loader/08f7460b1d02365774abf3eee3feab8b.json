{"ast":null,"code":"var _jsxFileName = \"C:\\\\wamp64\\\\www\\\\ProjetWeb\\\\frontend\\\\src\\\\MovieInformation.js\";\nimport React, { Component } from \"react\"; // import {fetchMovie} from '../utils/TmdbApi'\n\nimport MovieCard from \"./MovieCard\";\nconst apiKey = \"6f8f5ded34fa534314a23fa7d705681b\";\n\nclass MovieInformation extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      movie: {},\n      query: null\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  fetchMovie(title) {\n    fetch( //'https://api.themoviedb.org/3/movie/${movieID}?&api_key=cfe422613b250f702980a3bbf9e90716'\n    \"https://api.themoviedb.org/3/search/movie?api_key=\".concat(apiKey, \"&query=\").concat(title)).then(response => response.json()).then(myJson => this.setState({\n      movie: myJson.results[0]\n    }));\n  }\n\n  handleChange(event) {\n    this.setState({\n      query: event.target.value\n    });\n    console.log(this.state.query);\n  }\n\n  handleSubmit(event) {\n    // alert('A name was submitted: ' + this.state.query);\n    this.fetchMovie(this.state.query);\n    event.preventDefault();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.query,\n      onChange: this.handleChange,\n      placeholder: \"Search movie title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    })), React.createElement(MovieCard, {\n      movie: this.state.movie,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }));\n  }\n\n  componentDidMount() {\n    this.fetchMovie(\"Forrest Gump\");\n  }\n\n}\n\nexport default MovieInformation;","map":{"version":3,"sources":["C:/wamp64/www/ProjetWeb/frontend/src/MovieInformation.js"],"names":["React","Component","MovieCard","apiKey","MovieInformation","constructor","props","state","movie","query","handleChange","bind","handleSubmit","fetchMovie","title","fetch","then","response","json","myJson","setState","results","event","target","value","console","log","preventDefault","render","componentDidMount"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC,C,CACA;;AACA,OAAOC,SAAP,MAAsB,aAAtB;AAEA,MAAMC,MAAM,GAAG,kCAAf;;AAEA,MAAMC,gBAAN,SAA+BH,SAA/B,CAAyC;AACvCI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AAAEC,MAAAA,KAAK,EAAE,EAAT;AAAaC,MAAAA,KAAK,EAAE;AAApB,KAAb;AAEA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAApB;AACD;;AAEDE,EAAAA,UAAU,CAACC,KAAD,EAAQ;AAChBC,IAAAA,KAAK,EACH;AADG,gEAEkDZ,MAFlD,oBAEkEW,KAFlE,EAAL,CAIGE,IAJH,CAIQC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAJpB,EAKGF,IALH,CAKQG,MAAM,IAAI,KAAKC,QAAL,CAAc;AAAEZ,MAAAA,KAAK,EAAEW,MAAM,CAACE,OAAP,CAAe,CAAf;AAAT,KAAd,CALlB;AAMD;;AAEDX,EAAAA,YAAY,CAACY,KAAD,EAAQ;AAClB,SAAKF,QAAL,CAAc;AAAEX,MAAAA,KAAK,EAAEa,KAAK,CAACC,MAAN,CAAaC;AAAtB,KAAd;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKnB,KAAL,CAAWE,KAAvB;AACD;;AAEDG,EAAAA,YAAY,CAACU,KAAD,EAAQ;AAClB;AACA,SAAKT,UAAL,CAAgB,KAAKN,KAAL,CAAWE,KAA3B;AACAa,IAAAA,KAAK,CAACK,cAAN;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAM,MAAA,QAAQ,EAAE,KAAKhB,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,KAAK,EAAE,KAAKL,KAAL,CAAWE,KAFpB;AAGE,MAAA,QAAQ,EAAE,KAAKC,YAHjB;AAIE,MAAA,WAAW,EAAC,oBAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,EASE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,KAAK,EAAC,QAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,CADF,EAYE,oBAAE,SAAF;AAAY,MAAA,KAAK,EAAE,KAAKH,KAAL,CAAWC,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZF,CADF;AAgBD;;AAEDqB,EAAAA,iBAAiB,GAAG;AAClB,SAAKhB,UAAL,CAAgB,cAAhB;AACD;;AAlDsC;;AAqDzC,eAAeT,gBAAf","sourcesContent":["import React, { Component } from \"react\";\r\n// import {fetchMovie} from '../utils/TmdbApi'\r\nimport MovieCard from \"./MovieCard\";\r\n\r\nconst apiKey = \"6f8f5ded34fa534314a23fa7d705681b\";\r\n\r\nclass MovieInformation extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { movie: {}, query: null };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  fetchMovie(title) {\r\n    fetch(\r\n      //'https://api.themoviedb.org/3/movie/${movieID}?&api_key=cfe422613b250f702980a3bbf9e90716'\r\n      `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&query=${title}`\r\n    )\r\n      .then(response => response.json())\r\n      .then(myJson => this.setState({ movie: myJson.results[0] }));\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({ query: event.target.value });\r\n    console.log(this.state.query);\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    // alert('A name was submitted: ' + this.state.query);\r\n    this.fetchMovie(this.state.query);\r\n    event.preventDefault();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <form onSubmit={this.handleSubmit} >\r\n          <label>\r\n            <input\r\n              type=\"text\"\r\n              value={this.state.query}\r\n              onChange={this.handleChange}\r\n              placeholder=\"Search movie title\"\r\n            />\r\n          </label>\r\n          < input type=\"submit\" value=\"Search\" />\r\n        </form>\r\n        < MovieCard movie={this.state.movie} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchMovie(\"Forrest Gump\");\r\n  }\r\n}\r\n\r\nexport default MovieInformation;\r\n"]},"metadata":{},"sourceType":"module"}