{"ast":null,"code":"/*\n * typeahead.js\n * https://github.com/twitter/typeahead.js\n * Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT\n */\nvar _ = require('./utils');\n\nvar Transport = require('./transport');\n\nfunction Remote(o) {\n  this.url = o.url;\n  this.prepare = o.prepare;\n  this.transform = o.transform;\n  this.transport = new Transport({\n    cache: o.cache,\n    limiter: o.limiter,\n    transport: o.transport\n  });\n}\n\n_.mixin(Remote.prototype, {\n  // ### private\n  _settings: function settings() {\n    return {\n      url: this.url,\n      type: 'GET',\n      dataType: 'json'\n    };\n  },\n  get: function get(query, cb) {\n    var that = this,\n        settings;\n\n    if (!cb) {\n      return;\n    }\n\n    query = query || '';\n    settings = this.prepare(query, this._settings());\n    return this.transport.get(settings, onResponse);\n\n    function onResponse(err, resp) {\n      err ? cb([]) : cb(that.transform(resp));\n    }\n  },\n  cancelLastRequest: function cancelLastRequest() {\n    this.transport.cancel();\n  }\n});\n\nmodule.exports = Remote;","map":null,"metadata":{},"sourceType":"script"}